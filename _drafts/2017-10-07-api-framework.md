---
layout: post
title: "API 言語、フレームワークについて（RESTful API の設計やドキュメント、コンソール、エディター）"
slug: api-framework
date: 2017-10-07 11:30:00 +0900
tags:
- API Framework
- RESTful API
---

## 背景

「最近」というには最近すぎる気がしますが、今日の Web 開発では、変化し続ける要件に対応するため、システム自体にも柔軟性がもとめられています。

その中でも、サーバーとクライアント、またはサーバーとサーバー同士のやり取りのためのインターフェイスである Web API は Web システムにとって、もはや欠かせないものだと思います。

Web API を設計する際には多くの人が RESTful API を採用するでしょう。

しかし、採用したものの設計方針が人によってバラつきがあったり、ドキュメントの運用保守ができていなかったり、モックや API コンソールを作らなければならなかったりと、開発規模に応じていろいろなレベルの課題が存在します。

そろそろ、上記のようなことは API 設計が終わった段階で 8 割くらい終わっている状態にしたいですよね。

API の保守は、ソースコードそのものだけでなく、ドキュメント、API コンソールやスタブ、単体テストなど影響が広範囲に及びます。

それらの解決の手助けをしてくれるのが API フレームワーク（API 言語を用いた土台・仕組み）です。


## API フレームワークとは

API フレームワークは、設計から開発、ドキュメント生成までをワンストップでサポートします。

最近の API フレームワークでいうと、決められたフォーマットの通りに API を定義（設計）することで、以下のようなことができます。

<!-- more -->

- ドキュメント生成
- 対応するプログラミング言語のモックコード生成
- 定義を記述するためのエディター
- モックサーバーやコンソールの生成
- 記述した定義がフォーマット通りか検証

このような色々な機能が付いています。

また、記述方式がプログラミングではないので学習コストが比較的少なく、標準化されていることから書き手による表記の揺らぎも少ないため、メンテナンス性の面でも問題を解消する手助けとなります。


## 代表的な API フレームワーク

いま現在、代表的な API フレームワークは Swagger、API Blueprint、RAML の 3 つでしょうか。

これらの API フレームワークを簡単に比較してみました。

### 各 API フレームワークの比較表

|比較項目|Swagger|API Blueprint|RAML|
|-|-|-|-|
|Web サイト|swagger.io|apiblueprint.org|raml.org|
|記述方式|YAML or JSON|Markdown|YAML|
|エディター|o|o|o|
|コンソール|o|o|o|
|モック生成|o|o|o|
|クライアントサイドのコード生成|o|x|x|
|ドキュメント生成|o|o|o|
|ボトムアップ対応|o|x|x|


### Swagger

前項の問題を解消する手助けとなるのが、OSS の API フレームワークである Swagger（Open API に名称変更）です。  
Swagger は RESTful API の標準化団体である Open API Initiative（OAI）が採用している API フレームワークです。

この手の問題を解消する API 言語は Swagger 以外にもあって、API Blueprint や RAML もそれにあたります。  
<!--API Blueprint については API コンソールやエディターを自前運用したくない人向けに Web サービス（Apiary）を提供しています。-->

